type Period @entity {
  id: ID!
  i: BigInt!
  p: Int!
  isSet: Boolean!
}

type ContractReference @entity {
  id: ID!
  object: Bytes!
  contractReferenceRole: Int!
  contractReferenceType: Int!
}

type TemplateTerms @entity {
  id: ID!
  calendar: Int!
  contractRole: Int!
  dayCountConvention: Int!
  businessDayConvention: Int!
  endOfMonthConvention: Int!
  scalingEffect: Int!
  penaltyType: Int!
  feeBasis: Int!
  creditEventTypeCovered: Int!
  currency: Bytes!
  settlementCurrency: Bytes!
  marketObjectCodeRateReset: Bytes!
  statusDateOffset: BigInt!
  maturityDateOffset: BigInt!
  notionalPrincipal: BigInt!
  nominalInterestRate: BigInt!
  feeAccrued: BigInt!
  accruedInterest: BigInt!
  rateMultiplier: BigInt!
  rateSpread: BigInt!
  feeRate: BigInt!
  nextResetRate: BigInt!
  penaltyRate: BigInt!
  premiumDiscountAtIED: BigInt!
  priceAtPurchaseDate: BigInt!
  nextPrincipalRedemptionPayment: BigInt!
  coverageOfCreditEnhancement: BigInt!
  lifeCap: BigInt!
  lifeFloor: BigInt!
  periodCap: BigInt!
  periodFloor: BigInt!
  gracePeriod: Period!
  delinquencyPeriod: Period!
}

type Template @entity {
  id: ID!
  templateId: Bytes!
  templateTerms: TemplateTerms!
  templateSchedule: [Bytes!]
}

type AssetOwnership @entity {
  id: ID!
  creatorObligor: Bytes!
  creatorBeneficiary: Bytes!
  counterpartyObligor: Bytes!
  counterpartyBeneficiary: Bytes!  
}

type LifecycleTerms @entity {
  id: ID!
  calendar: Int!
  contractRole: Int!
  dayCountConvention: Int!
  businessDayConvention: Int!
  endOfMonthConvention: Int!
  scalingEffect: Int!
  penaltyType: Int!
  feeBasis: Int!
  creditEventTypeCovered: Int!
  currency: Bytes!
  settlementCurrency: Bytes!
  marketObjectCodeRateReset: Bytes!
  statusDate: BigInt!
  maturityDate: BigInt!
  notionalPrincipal: BigInt!
  nominalInterestRate: BigInt!
  feeAccrued: BigInt!
  accruedInterest: BigInt!
  rateMultiplier: BigInt!
  rateSpread: BigInt!
  feeRate: BigInt!
  nextResetRate: BigInt!
  penaltyRate: BigInt!
  premiumDiscountAtIED: BigInt!
  priceAtPurchaseDate: BigInt!
  nextPrincipalRedemptionPayment: BigInt!
  coverageOfCreditEnhancement: BigInt!
  lifeCap: BigInt!
  lifeFloor: BigInt!
  periodCap: BigInt!
  periodFloor: BigInt!
  gracePeriod: Period!
  delinquencyPeriod: Period!
  contractReference_1: ContractReference!
  contractReference_2: ContractReference!
}

type State @entity {
  id: ID!
  contractPerformance: Int!
  statusDate: BigInt!
  nonPerformingDate: BigInt!
  maturityDate: BigInt!
  executionDate: BigInt!
  notionalPrincipal: BigInt!
  accruedInterest: BigInt!
  feeAccrued: BigInt!
  nominalInterestRate: BigInt!
  interestScalingMultiplier: BigInt!
  notionalScalingMultiplier: BigInt!
  nextPrincipalRedemptionPayment: BigInt!
  executionAmount: BigInt!
}

type Event @entity {
  id: ID!
  event: Bytes!
  # payoff: BigInt!
  # state: State!
}

type Asset @entity {
  id: ID!
  assetId: Bytes!
  template: Template!
  engine: Bytes!
  actor: Bytes!
  ownership: AssetOwnership!
  anchorDate: BigInt!
  lifecycleTerms: LifecycleTerms!
  state: State!
  nextScheduleIndex: BigInt!
  nextEvent: Event!
}
